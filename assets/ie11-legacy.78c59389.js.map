{"version":3,"file":"ie11-legacy.78c59389.js","sources":["../../src/ie11.tsx"],"sourcesContent":["import 'core-js';\nimport { useCallback, useMemo, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport QueryBuilder, { defaultValidator } from 'react-querybuilder';\nimport {\n  CommonRQBProps,\n  defaultOptions,\n  DemoOptions,\n  docsLink,\n  fields,\n  initialQuery,\n  initialQueryIC,\n  optionsMetadata,\n} from './constants';\n\nconst IE11 = () => {\n  const [options, setOptions] = useState(defaultOptions);\n\n  const optionSetter = useCallback(\n    (opt: keyof DemoOptions) => (v: boolean) => setOptions(opts => ({ ...opts, [opt]: v })),\n    []\n  );\n\n  const optionsInfo = useMemo(\n    () =>\n      (\n        [\n          'showCombinatorsBetweenRules',\n          'showNotToggle',\n          'showCloneButtons',\n          'showLockButtons',\n          'resetOnFieldChange',\n          'resetOnOperatorChange',\n          'autoSelectField',\n          'addRuleToNewGroups',\n          'validateQuery',\n          'independentCombinators',\n          'enableDragAndDrop',\n          'disabled',\n        ] as (keyof DemoOptions)[]\n      ).map(opt => ({\n        ...optionsMetadata[opt],\n        default: defaultOptions[opt],\n        checked: options[opt],\n        setter: optionSetter(opt),\n      })),\n    [options, optionSetter]\n  );\n\n  const resetOptions = useCallback(\n    () =>\n      optionsInfo.forEach(opt => (opt.checked !== opt.default ? opt.setter(opt.default) : null)),\n    [optionsInfo]\n  );\n\n  const qbWrapperClassName = options.validateQuery ? 'validateQuery' : '';\n\n  const commonRQBProps = useMemo(\n    (): CommonRQBProps => ({\n      fields,\n      ...options,\n      validator: options.validateQuery ? defaultValidator : undefined,\n    }),\n    [options]\n  );\n\n  const getQBWrapperStyle = useCallback(\n    (icQueryBuilder: boolean) => ({\n      display: icQueryBuilder !== !!options.independentCombinators ? 'none' : 'block',\n    }),\n    [options.independentCombinators]\n  );\n\n  const qbClassname = commonRQBProps.enableDragAndDrop ? '' : 'dnd-disabled';\n\n  return (\n    <div>\n      <div className={qbWrapperClassName}>\n        <div style={getQBWrapperStyle(false)}>\n          <QueryBuilder\n            {...commonRQBProps}\n            independentCombinators={false}\n            defaultQuery={initialQuery}\n            controlClassnames={{\n              queryBuilder: qbClassname,\n            }}\n          />\n        </div>\n        <div style={getQBWrapperStyle(true)}>\n          <QueryBuilder {...commonRQBProps} independentCombinators defaultQuery={initialQueryIC} />\n        </div>\n      </div>\n      <div style={{ marginTop: '1rem' }}>\n        {optionsInfo.map(({ checked, label, link, setter, title }) => (\n          <div key={label}>\n            <label>\n              <input type=\"checkbox\" checked={checked} onChange={e => setter(e.target.checked)} />\n              {label}\n              {'\\u00a0'}\n              <a href={`${docsLink}${link}`} title={title} target=\"_blank\" rel=\"noreferrer\">\n                (?)\n              </a>\n            </label>\n          </div>\n        ))}\n        <button type=\"button\" style={{ marginTop: '0.5rem' }} onClick={resetOptions}>\n          Default options\n        </button>\n      </div>\n    </div>\n  );\n};\n\nReactDOM.render(<IE11 />, document.getElementById('ie11'));\n"],"names":["IE11","useState","defaultOptions","options","setOptions","optionSetter","useCallback","opt","v","opts","optionsInfo","useMemo","map","optionsMetadata","default","checked","setter","resetOptions","forEach","qbWrapperClassName","validateQuery","commonRQBProps","fields","validator","defaultValidator","getQBWrapperStyle","icQueryBuilder","display","independentCombinators","qbClassname","enableDragAndDrop","className","style","QueryBuilder","defaultQuery","initialQuery","controlClassnames","queryBuilder","initialQueryIC","marginTop","label","link","title","key","type","onChange","e","target","href","docsLink","rel","onClick","ReactDOM","render","document","getElementById"],"mappings":"i2IAeMA,EAAO,mBACmBC,mBAASC,MAAhCC,OAASC,OAEVC,EAAeC,uBACnB,SAACC,mBAA4BC,UAAeJ,GAAW,0BAAcK,WAAOF,EAAMC,UAClF,IAGIE,EAAcC,mBAClB,iBAEI,CACE,8BACA,gBACA,mBACA,kBACA,qBACA,wBACA,kBACA,qBACA,gBACA,yBACA,oBACA,YAEFC,KAAI,0BACDC,EAAgBN,QACnBO,QAASZ,EAAeK,GACxBQ,QAASZ,EAAQI,GACjBS,OAAQX,EAAaE,UAEzB,CAACJ,EAASE,IAGNY,EAAeX,uBACnB,kBACEI,EAAYQ,SAAQ,mBAAQX,EAAIQ,UAAYR,EAAIO,QAAUP,EAAIS,OAAOT,EAAIO,SAAW,UACtF,CAACJ,IAGGS,EAAqBhB,EAAQiB,cAAgB,gBAAkB,GAE/DC,EAAiBV,mBACrB,uBACEW,OAAAA,GACGnB,OACHoB,UAAWpB,EAAQiB,cAAgBI,OAAmB,MAExD,CAACrB,IAGGsB,EAAoBnB,uBACxB,SAACoB,UACCC,QAASD,MAAqBvB,EAAQyB,uBAAyB,OAAS,WAE1E,CAACzB,EAAQyB,yBAGLC,EAAcR,EAAeS,kBAAoB,GAAK,sCAGzD,MAAD,qBACG,MAAD,CAAKC,UAAWZ,mBACb,MAAD,CAAKa,MAAOP,GAAkB,oBAC3BQ,SACKZ,OACJO,wBAAwB,EACxBM,aAAcC,EACdC,kBAAmB,CACjBC,aAAcR,uBAInB,MAAD,CAAKG,MAAOP,GAAkB,oBAC3BQ,SAAiBZ,OAAgBO,wBAAsB,EAACM,aAAcI,uBAG1E,MAAD,CAAKN,MAAO,CAAEO,UAAW,SACtB7B,EAAYE,KAAI,gBAAGG,IAAAA,QAASyB,IAAAA,MAAOC,IAAAA,KAAMzB,IAAAA,OAAQ0B,IAAAA,6BAC/C,MAAD,CAAKC,IAAKH,mBACP,QAAD,qBACG,QAAD,CAAOI,KAAK,WAAW7B,QAAAA,EAAkB8B,SAAU,mBAAK7B,EAAO8B,EAAEC,OAAOhC,YACvEyB,EACA,oBACA,IAAD,CAAGQ,eAASC,UAAWR,GAAQC,MAAAA,EAAcK,OAAO,SAASG,IAAI,cAAa,4BAMnF,SAAD,CAAQN,KAAK,SAASZ,MAAO,CAAEO,UAAW,UAAYY,QAASlC,GAAc,sBAQrFmC,EAASC,uBAAQrD,EAAD,MAAUsD,SAASC,eAAe"}