var Re=Object.defineProperty,Oe=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var oe=(t,o,a)=>o in t?Re(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,b=(t,o)=>{for(var a in o||(o={}))De.call(o,a)&&oe(t,a,o[a]);if(re)for(var a of re(o))Pe.call(o,a)&&oe(t,a,o[a]);return t},v=(t,o)=>Oe(t,Le(o));import{V as $e,d as E,i as ae,a as Ne,f as z,o as K,b as ne,p as le,c as Be,s as X,e as R,g as Ie,n as Qe,Q as se}from"./constants.6cf90910.js";/* empty css                           */import{r,R as e,c as Ve,e as ze,S as L,j as B,s as Me,v as ce,q as j,a as qe,b as Fe,L as Z,T as k,Q as D,d as Ee,C as Ge,B as M,f as He,g as je,D as Ue,M as We,I as Je,h as Ke,i as Xe,k as Ye}from"./vendor.31cbaad3.js";function Qt(){import("data:text/javascript,")}const Ze="modulepreload",ie={},et="/react-querybuilder/",i=function(o,a){return!a||a.length===0?o():Promise.all(a.map(s=>{if(s=`${et}${s}`,s in ie)return;ie[s]=!0;const c=s.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${m}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Ze,c||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),c)return new Promise((p,y)=>{l.addEventListener("load",p),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>o())};var tt=Object.defineProperty,rt=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,me=(t,o,a)=>o in t?tt(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,at=(t,o)=>{for(var a in o||(o={}))he.call(o,a)&&me(t,a,o[a]);if(U)for(var a of U(o))ge.call(o,a)&&me(t,a,o[a]);return t},nt=(t,o)=>rt(t,ot(o)),lt=(t,o)=>{var a={};for(var s in t)he.call(t,s)&&o.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&U)for(var s of U(t))o.indexOf(s)<0&&ge.call(t,s)&&(a[s]=t[s]);return a};const st=r.exports.forwardRef(({className:t,title:o},a)=>e.createElement("span",{ref:a,className:t,title:o},e.createElement("i",{className:"bi bi-grip-vertical"})));st.displayName="BootstrapDragHandle";const ct=({className:t,handleOnChange:o,title:a,label:s,checked:c,disabled:m})=>{const l=r.exports.useRef(`notToggle-${Math.random()}`);return e.createElement("div",{className:`form-check-inline form-switch ${t}`},e.createElement("input",{id:l.current,className:"form-check-input",type:"checkbox",onChange:p=>o(p.target.checked),checked:!!c,disabled:m}),e.createElement("label",{title:a,htmlFor:l.current,className:"form-check-label"},s))};ct.displayName="BootstrapNotToggle";const it=t=>{var o=t,{fieldData:a,operator:s,value:c,handleOnChange:m,title:l,className:p,type:y,inputType:g,values:f,disabled:h}=o,w=lt(o,["fieldData","operator","value","handleOnChange","title","className","type","inputType","values","disabled"]),P;if(r.exports.useEffect(()=>{g==="number"&&!["between","notBetween","in","notIn"].includes(s)&&typeof c=="string"&&c.includes(",")&&m("")},[g,s,c,m]),s==="null"||s==="notNull")return null;const u=(P=a==null?void 0:a.placeholder)!=null?P:"",W=["between","notBetween","in","notIn"].includes(s)?"text":g||"text";switch(y){case"select":case"multiselect":return e.createElement($e,nt(at({},w),{className:`${p} form-select form-select-sm`,title:l,handleOnChange:m,value:c,disabled:h,multiple:y==="multiselect",options:f}));case"textarea":return e.createElement("textarea",{value:c,title:l,className:p,disabled:h,placeholder:u,onChange:d=>m(d.target.value)});case"switch":return e.createElement("span",{className:`custom-control custom-switch ${p}`},e.createElement("input",{type:"checkbox",className:"form-check-input custom-control-input",title:l,disabled:h,onChange:d=>m(d.target.checked),checked:!!c}));case"checkbox":return e.createElement("input",{type:"checkbox",className:`form-check-input ${p}`,title:l,disabled:h,onChange:d=>m(d.target.checked),checked:!!c});case"radio":return e.createElement("span",{title:l},f.map(d=>e.createElement("div",{key:d.name,className:"form-check form-check-inline"},e.createElement("input",{className:"form-check-input",type:"radio",id:d.name,value:d.name,checked:c===d.name,disabled:h,onChange:I=>m(I.target.value)}),e.createElement("label",{className:"form-check-label",htmlFor:d.name},d.label))))}return e.createElement("input",{type:W,value:c,title:l,className:p,disabled:h,placeholder:u,onChange:d=>m(d.target.value)})};it.displayName="BootstrapValueEditor";const mt={addGroup:"btn btn-secondary btn-sm",addRule:"btn btn-primary btn-sm",cloneGroup:"btn btn-secondary btn-sm",cloneRule:"btn btn-secondary btn-sm",lockGroup:"btn btn-secondary btn-sm",lockRule:"btn btn-secondary btn-sm",removeGroup:"btn btn-danger btn-sm",removeRule:"btn btn-danger btn-sm",combinators:"form-select form-select-sm",fields:"form-select form-select-sm",operators:"form-select form-select-sm",value:"form-control form-control-sm",valueSource:"form-select form-select-sm"},x=r.exports.lazy(()=>i(()=>import("./AntDActionElement.7d76944b.js"),["assets/AntDActionElement.7d76944b.js","assets/index.es.3e420901.js","assets/vendor.31cbaad3.js"])),ut=r.exports.lazy(()=>i(()=>import("./AntDDragHandle.a1eae213.js"),["assets/AntDDragHandle.a1eae213.js","assets/index.es.3e420901.js","assets/vendor.31cbaad3.js"])),dt=r.exports.lazy(()=>i(()=>import("./AntDNotToggle.7758d1e6.js"),["assets/AntDNotToggle.7758d1e6.js","assets/index.es.3e420901.js","assets/vendor.31cbaad3.js"])),pt=r.exports.lazy(()=>i(()=>import("./AntDValueEditor.f17e8c66.js"),["assets/AntDValueEditor.f17e8c66.js","assets/index.es.3e420901.js","assets/vendor.31cbaad3.js"])),q=r.exports.lazy(()=>i(()=>import("./AntDValueSelector.8110e821.js"),["assets/AntDValueSelector.8110e821.js","assets/index.es.3e420901.js","assets/vendor.31cbaad3.js"])),Et=r.exports.lazy(()=>i(()=>import("./BootstrapDragHandle.c6abc54d.js"),["assets/BootstrapDragHandle.c6abc54d.js","assets/BootstrapDragHandle.521dd370.css","assets/github-fork-ribbon.4ace97a5.css","assets/constants.6cf90910.js","assets/vendor.31cbaad3.js"])),ht=r.exports.lazy(()=>i(()=>import("./BootstrapNotToggle.abc913bf.js"),["assets/BootstrapNotToggle.abc913bf.js","assets/github-fork-ribbon.4ace97a5.css","assets/constants.6cf90910.js","assets/vendor.31cbaad3.js"])),gt=r.exports.lazy(()=>i(()=>import("./BootstrapValueEditor.e5f62ea0.js"),["assets/BootstrapValueEditor.e5f62ea0.js","assets/github-fork-ribbon.4ace97a5.css","assets/constants.6cf90910.js","assets/vendor.31cbaad3.js"])),S=r.exports.lazy(()=>i(()=>import("./BulmaActionElement.2c243950.js"),["assets/BulmaActionElement.2c243950.js","assets/vendor.31cbaad3.js","assets/index.es.a94b93ed.js"])),ft=r.exports.lazy(()=>i(()=>import("./BulmaNotToggle.3425bf6f.js"),["assets/BulmaNotToggle.3425bf6f.js","assets/vendor.31cbaad3.js","assets/index.es.a94b93ed.js"])),_t=r.exports.lazy(()=>i(()=>import("./BulmaValueEditor.2ef770b7.js"),["assets/BulmaValueEditor.2ef770b7.js","assets/vendor.31cbaad3.js","assets/index.es.a94b93ed.js"])),F=r.exports.lazy(()=>i(()=>import("./BulmaValueSelector.f82cefd5.js"),["assets/BulmaValueSelector.f82cefd5.js","assets/vendor.31cbaad3.js","assets/index.es.a94b93ed.js"])),A=r.exports.lazy(()=>i(()=>import("./ChakraActionElement.8128c732.js"),["assets/ChakraActionElement.8128c732.js","assets/index.es.e8c8401c.js","assets/vendor.31cbaad3.js","assets/constants.6cf90910.js"])),yt=r.exports.lazy(()=>i(()=>import("./ChakraDragHandle.e7e8bf10.js"),["assets/ChakraDragHandle.e7e8bf10.js","assets/index.es.e8c8401c.js","assets/vendor.31cbaad3.js","assets/constants.6cf90910.js"])),bt=r.exports.lazy(()=>i(()=>import("./ChakraNotToggle.8f66bfb7.js"),["assets/ChakraNotToggle.8f66bfb7.js","assets/index.es.e8c8401c.js","assets/vendor.31cbaad3.js","assets/constants.6cf90910.js"])),vt=r.exports.lazy(()=>i(()=>import("./ChakraValueEditor.10ab2f86.js"),["assets/ChakraValueEditor.10ab2f86.js","assets/index.es.e8c8401c.js","assets/vendor.31cbaad3.js","assets/constants.6cf90910.js"])),G=r.exports.lazy(()=>i(()=>import("./ChakraValueSelector.aa21084f.js"),["assets/ChakraValueSelector.aa21084f.js","assets/index.es.e8c8401c.js","assets/vendor.31cbaad3.js","assets/constants.6cf90910.js"])),T=r.exports.lazy(()=>i(()=>import("./MaterialActionElement.0b375bd4.js"),["assets/MaterialActionElement.0b375bd4.js","assets/index.es.c9a31243.js","assets/vendor.31cbaad3.js"])),kt=r.exports.lazy(()=>i(()=>import("./MaterialDragHandle.4d41da88.js"),["assets/MaterialDragHandle.4d41da88.js","assets/index.es.c9a31243.js","assets/vendor.31cbaad3.js"])),Ct=r.exports.lazy(()=>i(()=>import("./MaterialNotToggle.5ce4eba9.js"),["assets/MaterialNotToggle.5ce4eba9.js","assets/index.es.c9a31243.js","assets/vendor.31cbaad3.js"])),xt=r.exports.lazy(()=>i(()=>import("./MaterialValueEditor.8d6f9372.js"),["assets/MaterialValueEditor.8d6f9372.js","assets/index.es.c9a31243.js","assets/vendor.31cbaad3.js"])),H=r.exports.lazy(()=>i(()=>import("./MaterialValueSelector.155e34cd.js"),["assets/MaterialValueSelector.155e34cd.js","assets/index.es.c9a31243.js","assets/vendor.31cbaad3.js"])),St={default:{},bootstrap:{controlClassnames:mt,controlElements:{dragHandle:Et,notToggle:ht,valueEditor:gt}},antd:{controlElements:{addGroupAction:x,addRuleAction:x,cloneGroupAction:x,cloneRuleAction:x,lockGroupAction:x,lockRuleAction:x,combinatorSelector:q,fieldSelector:q,notToggle:dt,operatorSelector:q,removeGroupAction:x,removeRuleAction:x,valueEditor:pt,dragHandle:ut,valueSourceSelector:q}},material:{controlElements:{addGroupAction:T,addRuleAction:T,cloneGroupAction:T,cloneRuleAction:T,lockGroupAction:T,lockRuleAction:T,combinatorSelector:H,fieldSelector:H,notToggle:Ct,operatorSelector:H,removeGroupAction:T,removeRuleAction:T,valueEditor:xt,dragHandle:kt,valueSourceSelector:H}},chakra:{controlElements:{addGroupAction:A,addRuleAction:A,cloneGroupAction:A,cloneRuleAction:A,lockGroupAction:A,lockRuleAction:A,combinatorSelector:G,fieldSelector:G,notToggle:bt,operatorSelector:G,removeGroupAction:A,removeRuleAction:A,valueEditor:vt,dragHandle:yt,valueSourceSelector:G}},bulma:{controlElements:{addGroupAction:S,addRuleAction:S,cloneGroupAction:S,cloneRuleAction:S,lockGroupAction:S,lockRuleAction:S,combinatorSelector:F,fieldSelector:F,notToggle:ft,operatorSelector:F,removeGroupAction:S,removeRuleAction:S,valueEditor:_t,valueSourceSelector:F}}},{TextArea:At}=Je,{Header:Tt,Sider:wt,Content:Rt}=Z,{Option:Ot}=Ee,{Link:ue,Text:Y,Title:O}=Ke,Lt=Ve(),Dt=ze({config:{initialColorMode:"light",useSystemColorMode:!1}});L.registerLanguage("json",B);L.registerLanguage("json_without_ids",B);L.registerLanguage("mongodb",B);L.registerLanguage("parameterized",B);L.registerLanguage("parameterized_named",B);L.registerLanguage("sql",Me);const Pt=v(b({},ce),{hljs:v(b({},ce.hljs),{backgroundColor:"#eeeeee",border:"1px solid gray",borderRadius:4,fontFamily:"Consolas, 'Courier New', monospace",fontSize:"small",padding:"1rem",minWidth:405,whiteSpace:"pre-wrap"})}),de=({children:t})=>e.createElement(e.Fragment,null,t),pe="Copy link",$t="Copied!",fe=t=>{var o,a,s,c,m,l,p,y,g,f,h,w;return{showCombinatorsBetweenRules:((o=t.showCombinatorsBetweenRules)!=null?o:`${E.showCombinatorsBetweenRules}`)==="true",showNotToggle:((a=t.showNotToggle)!=null?a:`${E.showNotToggle}`)==="true",showCloneButtons:((s=t.showCloneButtons)!=null?s:`${E.showCloneButtons}`)==="true",showLockButtons:((c=t.showLockButtons)!=null?c:`${E.showLockButtons}`)==="true",resetOnFieldChange:((m=t.resetOnFieldChange)!=null?m:`${E.resetOnFieldChange}`)==="true",resetOnOperatorChange:((l=t.resetOnOperatorChange)!=null?l:`${E.resetOnOperatorChange}`)==="true",autoSelectField:((p=t.autoSelectField)!=null?p:`${E.autoSelectField}`)==="true",addRuleToNewGroups:((y=t.addRuleToNewGroups)!=null?y:`${E.addRuleToNewGroups}`)==="true",validateQuery:((g=t.validateQuery)!=null?g:`${E.validateQuery}`)==="true",independentCombinators:((f=t.independentCombinators)!=null?f:`${E.independentCombinators}`)==="true",enableDragAndDrop:((h=t.enableDragAndDrop)!=null?h:`${E.enableDragAndDrop}`)==="true",disabled:((w=t.disabled)!=null?w:`${E.disabled}`)==="true"}},Nt=fe(j.parse(location.hash)),Bt=()=>{const[t,o]=r.exports.useState(ae),[a,s]=r.exports.useState(Ne),[c,m]=r.exports.useState("json_without_ids"),[l,p]=r.exports.useState(Nt),[y,g]=r.exports.useState(!1),[f,h]=r.exports.useState(`SELECT *
  FROM my_table
 WHERE ${z(ae,"sql")};`),[w,P]=r.exports.useState(""),[u,W]=r.exports.useState("default"),[d,I]=r.exports.useState(pe),J=r.exports.useMemo(()=>`#${j.stringify(l)}`,[l]);r.exports.useEffect(()=>{history.pushState(null,"",J);const n=_=>{var V;const N=fe(j.parse((V=j.parseUrl(_.newURL,{parseFragmentIdentifier:!0}).fragmentIdentifier)!=null?V:""));p(N)};return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[J]);const ee=r.exports.useCallback(n=>_=>p(N=>v(b({},N),{[n]:_})),[]),$=r.exports.useMemo(()=>["showCombinatorsBetweenRules","showNotToggle","showCloneButtons","showLockButtons","resetOnFieldChange","resetOnOperatorChange","autoSelectField","addRuleToNewGroups","validateQuery","independentCombinators","enableDragAndDrop","disabled"].map(n=>v(b({},K[n]),{default:E[n],checked:l[n],setter:ee(n)})),[l,ee]),_e=r.exports.useCallback(()=>$.forEach(n=>n.checked!==n.default?n.setter(n.default):null),[$]),ye=r.exports.useCallback(()=>$.forEach(n=>n.setter(n.label!==K.disabled.label)),[$]),C=r.exports.useMemo(()=>l.validateQuery?{format:c,fields:ne}:{format:c},[c,l.validateQuery]),Q=l.independentCombinators?a:t,be=r.exports.useMemo(()=>C.format==="json_without_ids"||C.format==="mongodb"?JSON.stringify(JSON.parse(z(Q,C)),null,2):C.format==="parameterized"||C.format==="parameterized_named"?JSON.stringify(z(Q,C),null,2):z(Q,C),[C,Q]),ve=`with-${u}${l.validateQuery?" validateQuery":""}`,ke=r.exports.useCallback(()=>{try{const n=le(f),_=le(f,{independentCombinators:!0});o(n),s(_),g(!1),P("")}catch(n){P(n.message)}},[f]),Ce=async()=>{try{await navigator.clipboard.writeText(`${location.origin}${location.pathname}${J}`),I($t)}catch(n){console.error("Clipboard error",n)}setTimeout(()=>I(pe),1214)},xe=u==="material"?Xe:de,Se=u==="chakra"?Ye:de,te=r.exports.useMemo(()=>v(b(v(b({},St[u]),{fields:ne}),l),{validator:l.validateQuery?Be:void 0}),[u,l]),Ae=r.exports.useMemo(()=>e.createElement("div",{className:"loading-placeholder"},e.createElement(Fe,null),e.createElement("div",null,"Loading ",X[u]," components...")),[u]);return e.createElement(e.Fragment,null,e.createElement(Z,null,e.createElement(Tt,null,e.createElement(O,{level:3,style:{display:"inline-block"}},e.createElement("a",{href:R},"React Query Builder Demo"))),e.createElement(Z,null,e.createElement(wt,{theme:"light",width:260,style:{padding:"1rem"}},e.createElement(O,{level:4},"Style","\xA0",e.createElement("a",{href:`${R}/docs/compat`,target:"_blank",rel:"noreferrer"},e.createElement(k,{title:"Use first-party alternate QueryBuilder components designed for popular style libraries (click for documentation)",placement:"right"},e.createElement(D,null)))),e.createElement(Ee,{value:u,onChange:W,dropdownMatchSelectWidth:!1,style:{minWidth:100}},["default","bootstrap","material","antd","chakra","bulma"].map(n=>e.createElement(Ot,{key:n,value:n},X[n]))),e.createElement(O,{level:4,style:{marginTop:"1rem"}},"Options","\xA0",e.createElement("a",{href:`${R}/docs/api/querybuilder`,target:"_blank",rel:"noreferrer"},e.createElement(k,{title:"Boolean props on the QueryBuilder component (click for documentation)",placement:"right"},e.createElement(D,null)))),e.createElement("div",null,$.map(({checked:n,label:_,link:N,setter:V,title:Te})=>e.createElement("div",{key:_},e.createElement(Ge,{checked:n,onChange:we=>V(we.target.checked)},_,"\xA0",e.createElement("a",{href:`${R}${N}`,target:"_blank",rel:"noreferrer"},e.createElement(k,{title:`${Te} (click for documentation)`,placement:"right"},e.createElement(D,null)))))),e.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"0.5rem"}},e.createElement(k,{title:"Reset the options above to their default values",placement:"right"},e.createElement(M,{type:"default",onClick:_e},"Reset")),e.createElement(k,{title:`Enable all features except "${K.disabled.label}"`,placement:"right"},e.createElement(M,{type:"default",onClick:ye},"Select all")),e.createElement(k,{title:"Copy a URL that will load this demo with the options set as they are currently",placement:"right"},e.createElement(M,{type:"default",onClick:Ce},d)))),e.createElement(O,{level:4,style:{marginTop:"1rem"}},"Export","\xA0",e.createElement("a",{href:`${R}/docs/api/export`,target:"_blank",rel:"noreferrer"},e.createElement(k,{title:"The export format of the formatQuery function (click for documentation)",placement:"right"},e.createElement(D,null)))),e.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"}},Ie.map(({fmt:n,lbl:_})=>e.createElement(He,{key:n,checked:c===n,onChange:()=>m(n)},_,"\xA0",e.createElement(k,{title:`formatQuery(query, "${n}")`,placement:"right"},e.createElement(D,null))))),e.createElement(O,{level:4,style:{marginTop:"1rem"}},"Import","\xA0",e.createElement("a",{href:`${R}/docs/api/import`,target:"_blank",rel:"noreferrer"},e.createElement(k,{title:"Use the parseSQL method to set the query from SQL (click for documentation)",placement:"right"},e.createElement(D,null)))),e.createElement(M,{onClick:()=>g(!0)},"Load from SQL"),e.createElement(O,{level:4,style:{marginTop:"1rem"}},"Installation","\xA0",e.createElement(ue,{href:Qe,target:"_blank"},e.createElement(je,null))),e.createElement("pre",null,"npm i react-querybuilder"),"OR",e.createElement("pre",null,"yarn add react-querybuilder"),e.createElement(O,{level:4,style:{marginTop:"1rem"}},"Links"),e.createElement("p",null,e.createElement("a",{href:"ie11.html"},"IE-compatible demo")),e.createElement("p",null,"UMD build: ",e.createElement("a",{href:"umd.html"},"demo")," / ",e.createElement("a",{href:`${R}/docs/umd`},"docs"))),e.createElement(Rt,{style:{backgroundColor:"#ffffff",padding:"1rem 1rem 0 0"}},e.createElement(Se,{theme:Dt},e.createElement(xe,{theme:Lt},e.createElement(r.exports.Suspense,{fallback:Ae},e.createElement("div",{className:ve},e.createElement("form",{className:"form-inline",style:{marginTop:"1rem"}},l.independentCombinators?e.createElement(se,v(b({},te),{independentCombinators:!0,key:u,query:a,onQueryChange:n=>s(n)})):e.createElement(se,v(b({},te),{independentCombinators:!1,key:u,query:t,onQueryChange:n=>o(n)}))))))),u!=="default"&&e.createElement(e.Fragment,null,"To use the official React Query Builder components for ",X[u]," in your project, install"," ",e.createElement(ue,{target:"_blank",href:`https://www.npmjs.com/package/@react-querybuilder/${u}`},"@react-querybuilder/",u),"."),e.createElement(Ue,null),e.createElement(L,{language:c,style:Pt},be)))),e.createElement(We,{title:"Load Query From SQL",visible:y,onOk:ke,onCancel:()=>g(!1)},e.createElement(At,{value:f,onChange:n=>h(n.target.value),spellCheck:!1,style:{height:200,fontFamily:"monospace"}}),e.createElement(Y,{italic:!0},"SQL string can either be the full ",e.createElement(Y,{code:!0},"SELECT")," statement or the"," ",e.createElement(Y,{code:!0},"WHERE"),' clause by itself (without the word "WHERE" -- just the clauses). A trailing semicolon is also optional.'),!!w&&e.createElement("pre",null,w)))};qe.render(e.createElement(Bt,null),document.getElementById("app"));export{st as B,Qt as __vite_legacy_guard,ct as a,it as b};
//# sourceMappingURL=main.9097c1f4.js.map
