var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,s=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&n(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&n(e,r,t[r]);return e},i=(e,a)=>t(e,r(a));export function __vite_legacy_guard(){import("data:text/javascript,")}import{d as c,i as m,a as d,f as u,o as p,b as E,p as g,c as _,s as h,e as f,g as y,n as b,Q as v}from"./constants.972a233a.js";import{r as C,c as A,e as T,S as R,j as x,s as O,v as S,q as k,R as L,a as w,b as D,L as j,d as V,T as I,Q as P,C as $,B as z,f as Q,g as B,D as N,M as G,I as F,h as M,i as q,k as H}from"./vendor.a1116dcd.js";const W={},U=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/react-querybuilder/${e}`)in W)return;W[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},J=C.exports.lazy((()=>U((()=>import("./AntDActionElement.90942d58.js")),["assets/AntDActionElement.90942d58.js","assets/index.es.137f6f0f.js","assets/vendor.a1116dcd.js"]))),K=C.exports.lazy((()=>U((()=>import("./AntDDragHandle.e828a36f.js")),["assets/AntDDragHandle.e828a36f.js","assets/index.es.137f6f0f.js","assets/vendor.a1116dcd.js"]))),X=C.exports.lazy((()=>U((()=>import("./AntDNotToggle.cadcde04.js")),["assets/AntDNotToggle.cadcde04.js","assets/index.es.137f6f0f.js","assets/vendor.a1116dcd.js"]))),Y=C.exports.lazy((()=>U((()=>import("./AntDValueEditor.a5a119df.js")),["assets/AntDValueEditor.a5a119df.js","assets/index.es.137f6f0f.js","assets/vendor.a1116dcd.js"]))),Z=C.exports.lazy((()=>U((()=>import("./AntDValueSelector.3a32f4e0.js")),["assets/AntDValueSelector.3a32f4e0.js","assets/index.es.137f6f0f.js","assets/vendor.a1116dcd.js"]))),ee=C.exports.lazy((()=>U((()=>import("./BootstrapDragHandle.49cc6a97.js")),["assets/BootstrapDragHandle.49cc6a97.js","assets/BootstrapDragHandle.4ce5d9b4.css","assets/index.es.e157fea3.js","assets/vendor.a1116dcd.js"]))),te=C.exports.lazy((()=>U((()=>import("./BootstrapNotToggle.a6e4087c.js")),["assets/BootstrapNotToggle.a6e4087c.js","assets/index.es.e157fea3.js","assets/vendor.a1116dcd.js"]))),re=C.exports.lazy((()=>U((()=>import("./BootstrapValueEditor.625a9485.js")),["assets/BootstrapValueEditor.625a9485.js","assets/index.es.e157fea3.js","assets/vendor.a1116dcd.js"]))),ae=C.exports.lazy((()=>U((()=>import("./BulmaActionElement.d054d2a7.js")),["assets/BulmaActionElement.d054d2a7.js","assets/vendor.a1116dcd.js","assets/index.es.d6a320cb.js"]))),oe=C.exports.lazy((()=>U((()=>import("./BulmaNotToggle.fa107960.js")),["assets/BulmaNotToggle.fa107960.js","assets/vendor.a1116dcd.js","assets/index.es.d6a320cb.js"]))),le=C.exports.lazy((()=>U((()=>import("./BulmaValueEditor.66ff27b2.js")),["assets/BulmaValueEditor.66ff27b2.js","assets/vendor.a1116dcd.js","assets/index.es.d6a320cb.js"]))),ne=C.exports.lazy((()=>U((()=>import("./BulmaValueSelector.78852e9b.js")),["assets/BulmaValueSelector.78852e9b.js","assets/vendor.a1116dcd.js","assets/index.es.d6a320cb.js"]))),se=C.exports.lazy((()=>U((()=>import("./ChakraActionElement.90e96448.js")),["assets/ChakraActionElement.90e96448.js","assets/index.es.1c111b18.js","assets/vendor.a1116dcd.js"]))),ie=C.exports.lazy((()=>U((()=>import("./ChakraDragHandle.34bd922e.js")),["assets/ChakraDragHandle.34bd922e.js","assets/index.es.1c111b18.js","assets/vendor.a1116dcd.js"]))),ce=C.exports.lazy((()=>U((()=>import("./ChakraNotToggle.c7e165c9.js")),["assets/ChakraNotToggle.c7e165c9.js","assets/index.es.1c111b18.js","assets/vendor.a1116dcd.js"]))),me=C.exports.lazy((()=>U((()=>import("./ChakraValueEditor.454a10a8.js")),["assets/ChakraValueEditor.454a10a8.js","assets/index.es.1c111b18.js","assets/vendor.a1116dcd.js"]))),de=C.exports.lazy((()=>U((()=>import("./ChakraValueSelector.dba36c3b.js")),["assets/ChakraValueSelector.dba36c3b.js","assets/index.es.1c111b18.js","assets/vendor.a1116dcd.js"]))),ue=C.exports.lazy((()=>U((()=>import("./MaterialActionElement.929d0e76.js")),["assets/MaterialActionElement.929d0e76.js","assets/index.es.479041c6.js","assets/vendor.a1116dcd.js"]))),pe=C.exports.lazy((()=>U((()=>import("./MaterialDragHandle.6d5d33aa.js")),["assets/MaterialDragHandle.6d5d33aa.js","assets/index.es.479041c6.js","assets/vendor.a1116dcd.js"]))),Ee=C.exports.lazy((()=>U((()=>import("./MaterialNotToggle.f36f7bf4.js")),["assets/MaterialNotToggle.f36f7bf4.js","assets/index.es.479041c6.js","assets/vendor.a1116dcd.js"]))),ge=C.exports.lazy((()=>U((()=>import("./MaterialValueEditor.0909cfc1.js")),["assets/MaterialValueEditor.0909cfc1.js","assets/index.es.479041c6.js","assets/vendor.a1116dcd.js"]))),_e=C.exports.lazy((()=>U((()=>import("./MaterialValueSelector.306f217a.js")),["assets/MaterialValueSelector.306f217a.js","assets/index.es.479041c6.js","assets/vendor.a1116dcd.js"]))),he={default:{},bootstrap:{controlClassnames:{addGroup:"btn btn-secondary btn-sm",addRule:"btn btn-primary btn-sm",cloneGroup:"btn btn-secondary btn-sm",cloneRule:"btn btn-secondary btn-sm",removeGroup:"btn btn-danger btn-sm",removeRule:"btn btn-danger btn-sm",combinators:"form-select form-select-sm",fields:"form-select form-select-sm",operators:"form-select form-select-sm",value:"form-control form-control-sm"},controlElements:{dragHandle:ee,notToggle:te,valueEditor:re}},antd:{controlElements:{addGroupAction:J,addRuleAction:J,cloneGroupAction:J,cloneRuleAction:J,combinatorSelector:Z,fieldSelector:Z,notToggle:X,operatorSelector:Z,removeGroupAction:J,removeRuleAction:J,valueEditor:Y,dragHandle:K}},material:{controlElements:{addGroupAction:ue,addRuleAction:ue,cloneGroupAction:ue,cloneRuleAction:ue,combinatorSelector:_e,fieldSelector:_e,notToggle:Ee,operatorSelector:_e,removeGroupAction:ue,removeRuleAction:ue,valueEditor:ge,dragHandle:pe}},chakra:{controlElements:{addGroupAction:se,addRuleAction:se,cloneGroupAction:se,cloneRuleAction:se,combinatorSelector:de,fieldSelector:de,notToggle:ce,operatorSelector:de,removeGroupAction:se,removeRuleAction:se,valueEditor:me,dragHandle:ie}},bulma:{controlElements:{addGroupAction:ae,addRuleAction:ae,cloneGroupAction:ae,cloneRuleAction:ae,combinatorSelector:ne,fieldSelector:ne,notToggle:oe,operatorSelector:ne,removeGroupAction:ae,removeRuleAction:ae,valueEditor:le}}},{TextArea:fe}=F,{Header:ye,Sider:be,Content:ve}=j,{Option:Ce}=V,{Link:Ae,Text:Te,Title:Re}=M,xe=A(),Oe=T({config:{initialColorMode:"light",useSystemColorMode:!1}});R.registerLanguage("json",x),R.registerLanguage("json_without_ids",x),R.registerLanguage("parameterized",x),R.registerLanguage("parameterized_named",x),R.registerLanguage("sql",O);const Se=i(s({},S),{hljs:i(s({},S.hljs),{backgroundColor:"#eeeeee",border:"1px solid gray",borderRadius:4,fontFamily:"Consolas, 'Courier New', monospace",fontSize:"small",padding:"1rem",minWidth:405,whiteSpace:"pre-wrap"})}),ke=({children:e})=>w.createElement(w.Fragment,null,e),Le=e=>{var t,r,a,o,l,n,s,i,m,d,u;return{showCombinatorsBetweenRules:"true"===(null!=(t=e.showCombinatorsBetweenRules)?t:`${c.showCombinatorsBetweenRules}`),showNotToggle:"true"===(null!=(r=e.showNotToggle)?r:`${c.showNotToggle}`),showCloneButtons:"true"===(null!=(a=e.showCloneButtons)?a:`${c.showCloneButtons}`),resetOnFieldChange:"true"===(null!=(o=e.resetOnFieldChange)?o:`${c.resetOnFieldChange}`),resetOnOperatorChange:"true"===(null!=(l=e.resetOnOperatorChange)?l:`${c.resetOnOperatorChange}`),autoSelectField:"true"===(null!=(n=e.autoSelectField)?n:`${c.autoSelectField}`),addRuleToNewGroups:"true"===(null!=(s=e.addRuleToNewGroups)?s:`${c.addRuleToNewGroups}`),validateQuery:"true"===(null!=(i=e.validateQuery)?i:`${c.validateQuery}`),independentCombinators:"true"===(null!=(m=e.independentCombinators)?m:`${c.independentCombinators}`),enableDragAndDrop:"true"===(null!=(d=e.enableDragAndDrop)?d:`${c.enableDragAndDrop}`),disabled:"true"===(null!=(u=e.disabled)?u:`${c.disabled}`)}},we=Le(k.parse(location.hash)),De=()=>{const[e,t]=C.exports.useState(m),[r,a]=C.exports.useState(d),[o,l]=C.exports.useState("json_without_ids"),[n,A]=C.exports.useState(we),[T,x]=C.exports.useState(!1),[O,S]=C.exports.useState(`SELECT *\n  FROM my_table\n WHERE ${u(m,"sql")};`),[L,F]=C.exports.useState(""),[M,W]=C.exports.useState("default"),[U,J]=C.exports.useState("Copy permalink"),K=C.exports.useMemo((()=>`#${k.stringify(n)}`),[n]);C.exports.useEffect((()=>{history.pushState(null,"",K);const e=e=>{var t;const r=Le(k.parse(null!=(t=k.parseUrl(e.newURL,{parseFragmentIdentifier:!0}).fragmentIdentifier)?t:""));A(r)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}),[K]);const X=C.exports.useCallback((e=>t=>A((r=>i(s({},r),{[e]:t})))),[]),Y=C.exports.useMemo((()=>["showCombinatorsBetweenRules","showNotToggle","showCloneButtons","resetOnFieldChange","resetOnOperatorChange","autoSelectField","addRuleToNewGroups","validateQuery","independentCombinators","enableDragAndDrop","disabled"].map((e=>i(s({},p[e]),{default:c[e],checked:n[e],setter:X(e)})))),[n,X]),Z=C.exports.useCallback((()=>Y.forEach((e=>e.checked!==e.default?e.setter(e.default):null))),[Y]),ee=C.exports.useMemo((()=>n.validateQuery?{format:o,fields:E}:{format:o}),[o,n.validateQuery]),te=n.independentCombinators?r:e,re=C.exports.useMemo((()=>"json_without_ids"===ee.format?JSON.stringify(JSON.parse(u(te,ee)),null,2):"parameterized"===ee.format||"parameterized_named"===ee.format?JSON.stringify(u(te,ee),null,2):u(te,ee)),[ee,te]),ae=`with-${M}${n.validateQuery?" validateQuery":""}`,oe=C.exports.useCallback((()=>{try{const e=g(O),r=g(O,{independentCombinators:!0});t(e),a(r),x(!1),F("")}catch(e){F(e.message)}}),[O]),le="material"===M?q:ke,ne="chakra"===M?H:ke,se=C.exports.useMemo((()=>i(s(i(s({},he[M]),{fields:E}),n),{validator:n.validateQuery?_:void 0})),[M,n]),ie=C.exports.useMemo((()=>w.createElement("div",{className:"loading-placeholder"},w.createElement(D,null),w.createElement("div",null,"Loading ",h[M]," components..."))),[M]);return w.createElement(w.Fragment,null,w.createElement(j,null,w.createElement(ye,null,w.createElement(Re,{level:3,style:{display:"inline-block"}},w.createElement("a",{href:f},"React Query Builder Demo"))),w.createElement(j,null,w.createElement(be,{theme:"light",width:260,style:{padding:"1rem"}},w.createElement(Re,{level:4},"Style"),w.createElement(V,{value:M,onChange:W},["default","bootstrap","material","antd","chakra","bulma"].map((e=>w.createElement(Ce,{key:e,value:e},h[e])))),w.createElement(Re,{level:4,style:{marginTop:"1rem"}},"Options"," ",w.createElement("a",{href:`${f}/docs/api/querybuilder`,target:"_blank",rel:"noreferrer"},w.createElement(I,{title:"Boolean props on the QueryBuilder component (click for documentation)",placement:"right"},w.createElement(P,null)))),w.createElement("div",null,Y.map((({checked:e,label:t,link:r,setter:a,title:o})=>w.createElement("div",{key:t},w.createElement($,{checked:e,onChange:e=>a(e.target.checked)},t," ",w.createElement("a",{href:`${f}${r}`,target:"_blank",rel:"noreferrer"},w.createElement(I,{title:`${o} (click for documentation)`,placement:"right"},w.createElement(P,null))))))),w.createElement("div",{style:{marginTop:"0.5rem"}},w.createElement(I,{title:"Reset the options above to their default values",placement:"right"},w.createElement(z,{type:"default",onClick:Z},"Default options"))),w.createElement("div",{style:{marginTop:"0.5rem"}},w.createElement(I,{title:"Copy a URL that will load this demo with the options set as they are currently",placement:"right"},w.createElement(z,{type:"default",onClick:async()=>{try{await navigator.clipboard.writeText(`${location.origin}${location.pathname}${K}`),J("Copied!")}catch(e){console.error("Clipboard error",e)}setTimeout((()=>J("Copy permalink")),1214)}},U)))),w.createElement(Re,{level:4,style:{marginTop:"1rem"}},"Export"," ",w.createElement("a",{href:`${f}/docs/api/export`,target:"_blank",rel:"noreferrer"},w.createElement(I,{title:"The export format of the formatQuery function (click for documentation)",placement:"right"},w.createElement(P,null)))),w.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"}},y.map((({fmt:e,lbl:t})=>w.createElement(Q,{key:e,checked:o===e,onChange:()=>l(e)},t," ",w.createElement(I,{title:`formatQuery(query, "${e}")`,placement:"right"},w.createElement(P,null)))))),w.createElement(Re,{level:4,style:{marginTop:"1rem"}},"Import"," ",w.createElement("a",{href:`${f}/docs/api/import`,target:"_blank",rel:"noreferrer"},w.createElement(I,{title:"Use the parseSQL method to set the query from SQL (click for documentation)",placement:"right"},w.createElement(P,null)))),w.createElement(z,{onClick:()=>x(!0)},"Load from SQL"),w.createElement(Re,{level:4,style:{marginTop:"1rem"}},"Installation"," ",w.createElement(Ae,{href:b,target:"_blank"},w.createElement(B,null))),w.createElement("pre",null,"npm i react-querybuilder"),"OR",w.createElement("pre",null,"yarn add react-querybuilder"),w.createElement(Re,{level:4,style:{marginTop:"1rem"}},"Links"),w.createElement("p",null,w.createElement("a",{href:"ie11.html"},"IE-compatible demo"))),w.createElement(ve,{style:{backgroundColor:"#ffffff",padding:"1rem 1rem 0 0"}},w.createElement(ne,{theme:Oe},w.createElement(le,{theme:xe},w.createElement(C.exports.Suspense,{fallback:ie},w.createElement("div",{className:ae},w.createElement("form",{className:"form-inline",style:{marginTop:"1rem"}},n.independentCombinators?w.createElement(v,i(s({},se),{independentCombinators:!0,key:M,query:r,onQueryChange:e=>a(e)})):w.createElement(v,i(s({},se),{independentCombinators:!1,key:M,query:e,onQueryChange:e=>t(e)}))))))),w.createElement(N,null),"mongodb"===o?w.createElement("pre",{id:"formatQuery-output"},re):w.createElement(R,{language:o,style:Se},re)))),w.createElement(G,{title:"Load Query From SQL",visible:T,onOk:oe,onCancel:()=>x(!1)},w.createElement(fe,{value:O,onChange:e=>S(e.target.value),spellCheck:!1,style:{height:200,fontFamily:"monospace"}}),w.createElement(Te,{italic:!0},"SQL string can either be the full ",w.createElement(Te,{code:!0},"SELECT")," statement or the"," ",w.createElement(Te,{code:!0},"WHERE"),' clause by itself (without the word "WHERE" -- just the clauses). Semicolon is also optional.'),!!L&&w.createElement("pre",null,L)))};L.render(w.createElement(De,null),document.getElementById("app"));
